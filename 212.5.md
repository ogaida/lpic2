---
title: 212.5 OpenVPN Gewichtung 2
---

# {{ page.title }}

## 212.5 OpenVPN

Kandidaten sollen ein VPN (virtuelles privates Netzwerk) konfigurieren und sichere Punkt-zu-Punkt- oder Netz-zu-Netz-Verbindungen erstellen können.

**Hauptwissensgebiete:**
-   OpenVPN

**Dies ist eine auszugsweise Liste der verwendeten Dateien, Begriffe und
Hilfsprogramme:**
-   /etc/openvpn/
-   openvpn

### Installation openvpn-Server

```
apt-get install openvpn
```

### p2p aufbauen

```
modprobe tun
/etc/openvpn# openvpn --genkey --secret static.key
```

auf client und server die Datei static.key kopieren.


#### Server Konfiguration

```
root@debian:/etc/openvpn# cat server.conf
mode p2p
port 1194
proto udp
dev tun
ifconfig 10.51.0.41 10.51.0.42
secret static.key
ping 5
ping-restart 120
ping-timer-rem
verb 3
mute 20
```

Konfiguration übernehmen und Listen-Port prüfen:

```
root@debian:/etc/openvpn# systemctl restart openvpn
root@debian:/etc/openvpn# netstat -tulpn | grep 1194
udp        0      0 0.0.0.0:1194            0.0.0.0:*                           1458/openvpn
```

#### Client-Konfiguration

```
root@ubuntu:/etc/openvpn# cat client.conf
mode p2p
remote 10.191.17.7 1194
proto udp
dev tun
ifconfig 10.51.0.42 10.51.0.41
secret static.key
ping 5
ping-restart 120
ping-timer-rem
verb 3
mute 20
```

Konfiguration übernehmen:

```
root@debian:/etc/openvpn# systemctl restart openvpn
```

#### Verbindung prüfen

```
root@ubuntu:/etc/openvpn# ip a s tun0
6: tun0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 100
    link/none
    inet 10.51.0.42 peer 10.51.0.41/32 scope global tun0
       valid_lft forever preferred_lft forever
root@ubuntu:/etc/openvpn# ping -c 1 10.51.0.41
PING 10.51.0.41 (10.51.0.41) 56(84) bytes of data.
64 bytes from 10.51.0.41: icmp_seq=1 ttl=64 time=0.763 ms

--- 10.51.0.41 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.763/0.763/0.763/0.000 ms
```

```
root@debian:/etc/openvpn# ip a s tun0
11: tun0: <POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 100
    link/none
    inet 10.51.0.41 peer 10.51.0.42/32 scope global tun0
       valid_lft forever preferred_lft forever
    inet6 fe80::92cb:f70:cf04:5ac5/64 scope link flags 800
       valid_lft forever preferred_lft forever
root@debian:/etc/openvpn# ping -c 1 10.51.0.41
PING 10.51.0.41 (10.51.0.41) 56(84) bytes of data.
64 bytes from 10.51.0.41: icmp_seq=1 ttl=64 time=0.015 ms

--- 10.51.0.41 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.015/0.015/0.015/0.000 ms
```


[HOME](./)
